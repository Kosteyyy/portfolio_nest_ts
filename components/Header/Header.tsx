import React, { useEffect, useState } from "react";
import classNames from "classnames";
import styles from "./index.module.scss";
import Menu from "./Menu/Menu";
import Link from "next/link";
import { useRouter } from "next/router";

const Header = () => {
  const [isMenuVisible, setIsMenuVisible] = useState(false); //Определяет класс visible в меню
  const router = useRouter();

  useEffect(() => {
    setIsMenuVisible(false);
  }, [router.pathname]);

  const toggleMenu = () => {
    setIsMenuVisible((state) => !state);
  };
  let toggleBtnClassName = classNames(
    styles.toggleMenu,
    isMenuVisible && styles.active
  );

  return (
    <div className={styles.headerWrapper}>
      <div className="container">
        <div className={styles.header}>
          <div className={styles.logo}>
            <Link href="/">
              <a>
                <svg
                  id="logo-svg"
                  version="1.1"
                  viewBox="0 0 158.75 52.917"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g
                    id="logo-main"
                    transform="matrix(1.2903 0 0 1.2903 -5.9012 -2.7369)"
                    aria-label="&lt;Averkiev /&gt;"
                  >
                    <path
                      id="path34"
                      d="m17.553 24.365-10.36-4.9485v-1.1576l10.36-4.9485v1.717l-8.0354 3.8103 8.0354 3.8103z"
                    />
                    <path
                      id="path36"
                      d="m19.53 25.127 4.8424-14.363h2.3537l4.8424 14.363h-2.0161l-1.3022-4.0129h-5.4887l-1.3022 4.0129zm8.1897-5.6431-2.2186-6.7717-2.209 6.7717z"
                    />
                    <path
                      id="path38"
                      d="m41.254 14.352-4.0611 10.775h-1.6302l-4.0321-10.775h1.9582l2.9518 8.3151 2.9228-8.3151z"
                    />
                    <path
                      id="path40"
                      d="m47.302 25.378q-2.5756 0-4.0032-1.4469-1.418-1.4566-1.418-4.1286 0-2.6334 1.3794-4.1865 1.3794-1.5627 3.6077-1.5627 1.0032 0 1.7749 0.28939 0.7717 0.28939 1.3505 0.90675 0.57878 0.61736 0.88746 1.5145 0.30868 0.88746 0.30868 2.1801v0.98392h-7.4662q0 1.881 0.94534 2.8746 0.94534 0.99357 2.6141 0.99357 0.59807 0 1.1672-0.13505 0.57878-0.13505 1.0418-0.34727 0.49196-0.22186 0.82958-0.42444 0.33762-0.21222 0.55948-0.3955h0.10611v1.9775q-0.31833 0.1254-0.791 0.31833-0.47267 0.18328-0.84887 0.28939-0.53055 0.14469-0.96463 0.22186-0.42444 0.07717-1.0804 0.07717zm2.1222-6.8392q-0.01929-0.73312-0.17363-1.2637-0.15434-0.53055-0.44373-0.8971-0.31833-0.40514-0.81994-0.61736-0.49196-0.21222-1.2251-0.21222-0.72347 0-1.2347 0.22186-0.50161 0.21222-0.9164 0.62701-0.40514 0.42444-0.61736 0.94534-0.21222 0.51125-0.2701 1.1961z"
                    />
                    <path
                      id="path42"
                      d="m58.733 16.301h-0.09646q-0.20257-0.05788-0.43408-0.06752-0.22186-0.01929-0.54019-0.01929-0.73312 0-1.4566 0.31833-0.72347 0.31833-1.3698 0.94534v7.6495h-1.8135v-10.775h1.8135v1.6013q0.99357-0.87781 1.7267-1.2347 0.74276-0.36656 1.4373-0.36656 0.27974 0 0.41479 0.01929 0.14469 0.0096 0.31833 0.03859z"
                    />
                    <path
                      id="path44"
                      d="m69.074 25.127h-2.3826l-4.0225-5.1994-0.71382 0.69453v4.5048h-1.8135v-15.01h1.8135v8.7878l4.2637-4.553h2.2572l-4.4276 4.5048z"
                    />
                    <path
                      id="path46"
                      d="m71.832 25.127h-1.8135v-10.775h1.8135zm0.1254-12.579h-2.0643v-1.881h2.0643z"
                    />
                    <path
                      id="path48"
                      d="m79.173 25.378q-2.5756 0-4.0032-1.4469-1.418-1.4566-1.418-4.1286 0-2.6334 1.3794-4.1865 1.3794-1.5627 3.6077-1.5627 1.0032 0 1.7749 0.28939 0.7717 0.28939 1.3505 0.90675 0.57878 0.61736 0.88746 1.5145 0.30868 0.88746 0.30868 2.1801v0.98392h-7.4662q0 1.881 0.94534 2.8746 0.94534 0.99357 2.6141 0.99357 0.59807 0 1.1672-0.13505 0.57878-0.13505 1.0418-0.34727 0.49196-0.22186 0.82958-0.42444 0.33762-0.21222 0.55948-0.3955h0.10611v1.9775q-0.31833 0.1254-0.791 0.31833-0.47267 0.18328-0.84887 0.28939-0.53055 0.14469-0.96463 0.22186-0.42444 0.07717-1.0804 0.07717zm2.1222-6.8392q-0.01929-0.73312-0.17363-1.2637-0.15434-0.53055-0.44373-0.8971-0.31833-0.40514-0.81993-0.61736-0.49196-0.21222-1.2251-0.21222-0.72347 0-1.2347 0.22186-0.50161 0.21222-0.9164 0.62701-0.40514 0.42444-0.61736 0.94534-0.21222 0.51125-0.2701 1.1961z"
                    />
                    <path
                      id="path50"
                      d="m93.363 14.352-4.0611 10.775h-1.6302l-4.0321-10.775h1.9582l2.9518 8.3151 2.9228-8.3151z"
                    />
                    <path
                      id="path52"
                      d="m106.62 10.117-5.6238 18.135h-1.6302l5.5949-18.135z"
                    />
                    <path
                      id="path54"
                      d="m119.58 19.416-10.36 4.9485v-1.717l8.0354-3.8103-8.0354-3.8103v-1.717l10.36 4.9485z"
                    />
                  </g>
                  <g
                    id="logo-secondary"
                    transform="matrix(1.2903 0 0 1.2903 -5.9012 -2.7369)"
                    aria-label="FRONTEND DEVELOPER"
                  >
                    <path
                      id="path57"
                      d="m31.851 35.107h-1.0129v-5.5314h3.5223v0.84749h-2.5094v1.4304h2.1456v0.84749h-2.1456z"
                    />
                    <path
                      id="path59"
                      d="m39.342 31.237q0 0.57878-0.32246 0.98392-0.31833 0.40101-0.98805 0.59531v0.01654l1.6454 2.2738h-1.2154l-1.5048-2.1415h-0.69453v2.1415h-1.0129v-5.5314h1.6826q0.41754 0 0.77721 0.04961 0.35967 0.04547 0.61598 0.14056 0.48783 0.18604 0.75241 0.55397 0.26458 0.3638 0.26458 0.91777zm-2.5797 0.88057q0.34727 0 0.58704-0.02894 0.24391-0.03307 0.40928-0.09509 0.30592-0.11576 0.42168-0.31419 0.11989-0.20257 0.11989-0.46302 0-0.22324-0.09508-0.39274-0.09095-0.17363-0.31419-0.27285-0.14469-0.06615-0.3638-0.09509-0.21911-0.03307-0.54157-0.03307h-0.72347v1.695z"
                    />
                    <path
                      id="path61"
                      d="m44.663 32.341q0-0.50436-0.12402-0.88057-0.12402-0.38034-0.34313-0.63252t-0.5209-0.3762q-0.30179-0.12402-0.66146-0.12402t-0.66146 0.12402q-0.30179 0.12402-0.5209 0.3762-0.21911 0.25218-0.34313 0.63252-0.12402 0.3762-0.12402 0.88057t0.12402 0.8847q0.12402 0.3762 0.34313 0.62838 0.21911 0.24805 0.5209 0.3762 0.30179 0.12402 0.66146 0.12402t0.66146-0.12402q0.30179-0.12816 0.5209-0.3762 0.21911-0.25218 0.34313-0.62838 0.12402-0.38034 0.12402-0.8847zm1.0459 0q0 0.63252-0.1819 1.1617-0.17777 0.52503-0.52503 0.90537-0.34313 0.38034-0.84749 0.59118-0.50023 0.21084-1.141 0.21084t-1.1452-0.21084q-0.50023-0.21084-0.84749-0.59118-0.34313-0.38034-0.52503-0.90537-0.17777-0.52917-0.17777-1.1617t0.17777-1.1576q0.1819-0.52917 0.52503-0.9095 0.34726-0.38034 0.84749-0.59118 0.50436-0.21084 1.1452-0.21084t1.141 0.21084q0.50436 0.21084 0.84749 0.59118 0.34726 0.38034 0.52503 0.9095 0.1819 0.52503 0.1819 1.1576z"
                    />
                    <path
                      id="path63"
                      d="m49.665 32.147q0.59531 0.84749 0.96738 1.5048h0.0248q-0.04961-1.079-0.04961-1.571v-2.5053h1.0129v5.5314h-1.0625l-1.8025-2.5466q-0.47542-0.66146-0.98392-1.5338h-0.02481q0.04961 1.017 0.04961 1.5751v2.5053h-1.0129v-5.5314h1.0625z"
                    />
                    <path
                      id="path65"
                      d="m55.205 35.107h-1.0129v-4.684h-1.7859v-0.84749h4.5806v0.84749h-1.7818z"
                    />
                    <path
                      id="path67"
                      d="m58.785 34.259h2.7202v0.84749h-3.7331v-5.5314h3.5843v0.84749h-2.5714v1.4304h2.2076v0.84749h-2.2076z"
                    />
                    <path
                      id="path69"
                      d="m65.462 32.147q0.59531 0.84749 0.96738 1.5048h0.02481q-0.049615-1.079-0.049615-1.571v-2.5053h1.0129v5.5314h-1.0625l-1.8025-2.5466q-0.47542-0.66146-0.98392-1.5338h-0.0248q0.04961 1.017 0.04961 1.5751v2.5053h-1.0129v-5.5314h1.0625z"
                    />
                    <path
                      id="path71"
                      d="m68.74 35.107v-5.5314h1.4635q0.1943 0 0.39274 0.0124 0.20257 0.0124 0.39274 0.03721 0.19017 0.0248 0.36794 0.06201 0.17777 0.03307 0.3266 0.08268 0.44235 0.14056 0.78135 0.38034 0.339 0.23978 0.56637 0.56637 0.23151 0.3266 0.34727 0.73174 0.11989 0.40101 0.11989 0.8723 0 0.44648-0.09922 0.83923-0.09922 0.38861-0.30179 0.71107-0.20257 0.32246-0.51263 0.57051-0.30592 0.24391-0.7276 0.40101-0.3514 0.13229-0.79788 0.19844-0.44648 0.06615-1.0046 0.06615zm1.4304-0.84749q0.88884 0 1.3891-0.24391 0.44235-0.21911 0.66973-0.63665 0.22738-0.41755 0.22738-1.0666 0-0.339-0.07441-0.61185t-0.21497-0.48369q-0.14056-0.21497-0.34313-0.36794-0.19844-0.15296-0.45062-0.25218-0.23564-0.09095-0.52503-0.13229-0.28939-0.04134-0.64906-0.04134h-0.44648v3.8365z"
                    />
                    <path
                      id="path73"
                      d="m76.318 35.107v-5.5314h1.4635q0.1943 0 0.39274 0.0124 0.20257 0.0124 0.39274 0.03721 0.19017 0.0248 0.36794 0.06201 0.17777 0.03307 0.3266 0.08268 0.44235 0.14056 0.78135 0.38034 0.339 0.23978 0.56637 0.56637 0.23151 0.3266 0.34727 0.73174 0.11989 0.40101 0.11989 0.8723 0 0.44648-0.09922 0.83923-0.09922 0.38861-0.30179 0.71107-0.20257 0.32246-0.51263 0.57051-0.30592 0.24391-0.7276 0.40101-0.3514 0.13229-0.79788 0.19844-0.44648 0.06615-1.0046 0.06615zm1.4304-0.84749q0.88884 0 1.3891-0.24391 0.44235-0.21911 0.66973-0.63665 0.22738-0.41755 0.22738-1.0666 0-0.339-0.07441-0.61185t-0.21497-0.48369q-0.14056-0.21497-0.34313-0.36794-0.19844-0.15296-0.45062-0.25218-0.23564-0.09095-0.52503-0.13229-0.28939-0.04134-0.64906-0.04134h-0.44648v3.8365z"
                    />
                    <path
                      id="path75"
                      d="m83.164 34.259h2.7202v0.84749h-3.7331v-5.5314h3.5843v0.84749h-2.5714v1.4304h2.2076v0.84749h-2.2076z"
                    />
                    <path
                      id="path77"
                      d="m89.01 33.755q0.15296-0.45062 0.21911-0.64079 0.07028-0.1943 0.28939-0.78962l1.0253-2.7492h1.0707l-2.1621 5.5314h-0.90951l-2.1621-5.5314h1.079l1.0253 2.7492q0.21911 0.59531 0.28525 0.78962 0.07028 0.19017 0.22324 0.64079z"
                    />
                    <path
                      id="path79"
                      d="m93.371 34.259h2.7202v0.84749h-3.7331v-5.5314h3.5843v0.84749h-2.5714v1.4304h2.2076v0.84749h-2.2076z"
                    />
                    <path
                      id="path81"
                      d="m98.179 29.575v4.684h2.588v0.84749h-3.6008v-5.5314z"
                    />
                    <path
                      id="path83"
                      d="m105.48 32.341q0-0.50436-0.12403-0.88057-0.12402-0.38034-0.34313-0.63252t-0.5209-0.3762q-0.30179-0.12402-0.66145-0.12402-0.35967 0-0.66146 0.12402-0.30179 0.12402-0.5209 0.3762t-0.34313 0.63252q-0.12403 0.3762-0.12403 0.88057t0.12403 0.8847q0.12402 0.3762 0.34313 0.62838 0.21911 0.24805 0.5209 0.3762 0.30179 0.12402 0.66146 0.12402 0.35966 0 0.66145-0.12402 0.30179-0.12816 0.5209-0.3762 0.21911-0.25218 0.34313-0.62838 0.12403-0.38034 0.12403-0.8847zm1.0459 0q0 0.63252-0.1819 1.1617-0.17777 0.52503-0.52503 0.90537-0.34314 0.38034-0.8475 0.59118-0.50023 0.21084-1.141 0.21084-0.64079 0-1.1452-0.21084-0.50023-0.21084-0.8475-0.59118-0.34313-0.38034-0.52503-0.90537-0.17777-0.52917-0.17777-1.1617t0.17777-1.1576q0.1819-0.52917 0.52503-0.9095 0.34727-0.38034 0.8475-0.59118 0.50436-0.21084 1.1452-0.21084 0.64078 0 1.141 0.21084 0.50436 0.21084 0.8475 0.59118 0.34726 0.38034 0.52503 0.9095 0.1819 0.52503 0.1819 1.1576z"
                    />
                    <path
                      id="path85"
                      d="m109.13 32.965q-0.13642 0-0.26871-0.0041-0.1323-0.0041-0.24805-0.01654v2.1621h-1.0129v-5.5314h1.5958q0.40101 0 0.69867 0.03721 0.30179 0.03307 0.53743 0.10335 0.56637 0.17363 0.8723 0.55397 0.30592 0.38034 0.30592 0.96738 0 0.40101-0.16536 0.72347-0.16537 0.31833-0.48369 0.54157-0.31833 0.22324-0.77722 0.34313-0.45888 0.11989-1.0542 0.11989zm-0.51676-0.8723q0.0868 0.0124 0.21911 0.02067 0.13642 0.0041 0.28112 0.0041 0.40927 0 0.68626-0.06615t0.44649-0.1819q0.16949-0.11989 0.24391-0.28525 0.0744-0.1695 0.0744-0.36794 0-0.24391-0.11162-0.42168t-0.38861-0.27698q-0.14469-0.04961-0.35966-0.07028-0.21084-0.02481-0.5209-0.02481h-0.57051z"
                    />
                    <path
                      id="path87"
                      d="m113.7 34.259h2.7202v0.84749h-3.7331v-5.5314h3.5843v0.84749h-2.5714v1.4304h2.2076v0.84749h-2.2076z"
                    />
                    <path
                      id="path89"
                      d="m121.59 31.237q0 0.57878-0.32246 0.98392-0.31833 0.40101-0.98805 0.59531v0.01654l1.6454 2.2738h-1.2154l-1.5048-2.1415h-0.69454v2.1415h-1.0128v-5.5314h1.6826q0.41755 0 0.77721 0.04961 0.35967 0.04547 0.61599 0.14056 0.48782 0.18604 0.75241 0.55397 0.26458 0.3638 0.26458 0.91777zm-2.5797 0.88057q0.34727 0 0.58705-0.02894 0.24391-0.03307 0.40927-0.09509 0.30593-0.11576 0.42168-0.31419 0.11989-0.20257 0.11989-0.46302 0-0.22324-0.0951-0.39274-0.0909-0.17363-0.31419-0.27285-0.1447-0.06615-0.36381-0.09509-0.2191-0.03307-0.54157-0.03307h-0.72347v1.695z"
                    />
                  </g>
                </svg>
              </a>
            </Link>
          </div>
          <Menu visible={isMenuVisible} onClose={toggleMenu} />
          <div className={toggleBtnClassName} onClick={toggleMenu}>
            <span></span>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Header;
